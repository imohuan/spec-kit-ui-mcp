# gather.md 提示词优化说明 V2

## 优化日期

2025 年 10 月 4 日（第二版）

## 核心理念转变

### ❌ 之前的错误理念

在第一版优化中，我犯了一个根本性错误：**试图在提示词中预设和限制 AI 的判断**。

具体表现：

- 规定"简单项目跳过 xxx 维度"
- 规定"中等项目必须包含 xxx"
- 规定"不要对简单项目提供 xxx 选项"
- 用大量规则限制 AI 的决策空间

**这种做法的问题：**

1. 过度规定，限制了 AI 的自主判断能力
2. 无法适应各种复杂的实际情况
3. 忽视了需求收集是一个**反复沟通**的过程

### ✅ 正确的理念

**核心原则：让 AI 自己判断，而不是我来规定。**

1. **提供参考，而非限制**：列出可能需要的维度，但让 AI 根据项目情况自主选择
2. **围绕目标设计**：明确收集信息的目的是为了生成 build.md 的 7 条指令
3. **相信迭代过程**：即使第一次不完美，通过多轮对话也能完善
4. **全面而非预设**：提供全面的维度和选项，让 AI 和用户在交互中决定

---

## V2 优化内容

### 1. 明确信息收集的目的

**新增章节：** "为什么要收集这些信息？"

```markdown
最终目的是根据收集到的需求，生成完整的 **Spec Kit 7 条指令**
（/constitution、/specify、/clarify、/plan、/tasks、/analyze、/implement），
用于指导 AI 完整开发项目。
```

**列出 7 条指令需要的信息：**

1. 项目基本信息
2. 技术栈
3. 核心功能
4. UI/UX 要求
5. 数据管理
6. 性能要求
7. 安全要求
8. 其他需求

**效果：** 让 AI 明白收集信息的真正目的，围绕目标来判断需要收集什么。

---

### 2. 删除所有预设性规则

**删除的内容：**

- ❌ "简单项目只需 2-3 个维度"
- ❌ "中等项目必须包含 xxx"
- ❌ "简单项目跳过 xxx 维度"
- ❌ "不要对简单项目提供 xxx 选项"
- ❌ 项目复杂度的硬性分类

**替换为：**

- ✅ "智能判断还需要收集哪些信息"
- ✅ "只为缺失的信息生成问题"
- ✅ "让配置本身足够灵活，由 AI 和用户在交互中决定"

**核心原则变更：**

```markdown
⚠️ 重要：不要预设"某类项目一定需要/不需要某个维度"，
让配置本身足够灵活，由 AI 和用户在交互中决定。
```

---

### 3. 提供全面的维度和选项参考

**新增内容：** 大幅扩展每个维度的选项，覆盖各种项目类型

#### 技术栈选择（更全面）

- 前端 Web：7 种框架 + 7 种 UI 库 + 6 种状态管理
- 移动应用：6 种框架选项
- 桌面应用：5 种框架选项
- 后端项目：覆盖 6 种语言的主流框架
- 游戏项目：7 种游戏引擎
- 数据/AI 项目：完整的数据科学工具链

#### 核心功能（保持开放）

- 不预设具体选项，提示"根据项目类型提供 5-10 个选项"

#### 用户体验（更丰富）

- 界面风格：简约现代、商务专业、可爱卡通、扁平化、毛玻璃、赛博朋克、像素风、专业仪表盘等
- 特殊交互：拖拽排序、快捷键、手势操作、语音输入、键盘导航、触控反馈、粒子效果等

#### 数据管理（更详细）

- 前端/后端/移动应用分别提供不同的存储选项
- 数据量预估：从少量到海量(>100 万条)

#### 性能与可用性（更具体）

- 用户规模：从个人使用到海量用户(>10000 人)
- 响应速度：具体数值要求

#### 新增维度：🔒 安全与权限

- 独立出来，强调重要性
- 包含：数据加密、密码保护、生物识别、各类攻击防护
- 权限管理：RBAC、ABAC 等

#### 其他需求（按类型分类）

- 第三方集成：按 Web/移动/其他分类
- 兼容性要求：按 Web/移动/桌面分类
- 部署方案：按 Web/移动/桌面分类
- 新增：监控运维选项

**效果：** 提供足够丰富的选项，让 AI 可以根据项目类型灵活组合，不会因为选项不足而无法准确描述需求。

---

### 4. 改进维度选择指导

**从"硬性规定"改为"智能判断"：**

#### 之前（硬性规定）

```markdown
### 第一步：判断项目复杂度

- 简单项目：必需维度 xxx，跳过维度 xxx
- 中等项目：必需维度 xxx，可选维度 xxx
```

#### 现在（智能判断）

```markdown
### 维度选择策略

1. **分析用户已提供的信息**：列出用户已明确的方面
2. **确定需要询问的维度**：对照 8 类信息，确定哪些还需要补充
3. **生成对应的问题**：为每个维度设计具体问题
4. **提供全面的选项**：选项要具体、丰富、覆盖该类型项目的常见情况
5. **设置默认值**：根据用户已提供的信息设置 defaultValue
```

**"何时包含"说明：**
每个维度都添加了"何时包含"的指导，但**不是强制规定**，而是给 AI 提供判断参考：

```markdown
### 0. 🛠️ 技术栈选择

**何时包含：** 用户未明确具体技术栈时

### 3. 💾 数据管理

**何时包含：** 项目涉及数据存储，且用户未明确存储方案时
```

---

### 5. 优化示例场景

**从"规定应该怎么做"改为"展示智能分析过程"：**

#### 场景 1：用户描述简单

- 展示如何分析用户已明确和未明确的内容
- 展示如何选择需要的维度
- 不规定"必须包含几个维度"

#### 场景 2：用户描述详细

- 展示如何识别用户已明确的内容
- 展示如何只询问缺失的部分
- 展示如何在 projectDescription 中说明已明确的技术栈

#### 场景 3：技术栈已明确

- 展示如何部分包含技术栈维度（只询问未明确的部分）
- 展示如何在 projectDescription 中说明已明确的技术

**效果：** 示例变成了"分析思路的展示"，而不是"必须遵守的规则"。

---

## V2 与 V1 的对比

| 方面           | V1（错误做法）                    | V2（正确做法）                         |
| -------------- | --------------------------------- | -------------------------------------- |
| **核心理念**   | 规定 AI 应该怎么做                | 让 AI 自己判断                         |
| **项目分类**   | 硬性分为简单/中等/复杂            | 不预设分类，由 AI 判断                 |
| **维度包含**   | "简单项目必须跳过 xxx"            | "根据项目情况智能选择"                 |
| **选项设计**   | 预设某些项目不需要某些选项        | 提供全面选项，让 AI 选择               |
| **决策流程**   | 第一步判断复杂度 → 第二步套用规则 | 分析已有信息 → 判断缺失内容 → 选择维度 |
| **示例场景**   | 规定"应生成 x 个维度"             | 展示分析思路，不规定数量               |
| **技术栈处理** | 规定何时必须包含                  | 提供判断参考，不强制                   |
| **特殊需求**   | "简单项目不要提供"                | 列出所有选项，由 AI 判断是否需要       |

---

## 真正解决的问题

### 1. 技术栈选择缺失

**V1 做法：** 强制要求"必须包含"，多处警告
**V2 做法：** 明确说明目的（为了生成 7 条指令），提供全面的技术栈选项，让 AI 判断是否需要

### 2. 选项过于固定

**V1 做法：** 预设"简单项目不提供 xxx 选项"
**V2 做法：** 提供全面的选项参考，让 AI 根据项目类型选择性使用

### 3. 缺乏灵活性

**V1 做法：** 用规则限制 AI 的决策
**V2 做法：** 相信 AI 的判断能力和迭代过程，不预设限制

---

## 关键认知

### 为什么 V2 是正确的？

1. **AI 不是机器**：AI 有强大的语义理解和推理能力，应该相信它的判断
2. **需求收集是对话**：不是一次性问卷，而是反复沟通完善的过程
3. **情况千变万化**：没有任何规则能覆盖所有情况，预设规则只会限制灵活性
4. **目标导向**：明确目的（生成 7 条指令所需信息）比规定流程更重要

### V2 的核心价值

```
提供全面的参考 + 明确的目标 + 智能的判断 = 灵活的需求收集
```

**而不是：**

```
硬性的规则 + 复杂的分类 + 预设的限制 = 僵化的需求收集
```

---

## 预期效果

1. **更智能的维度选择**：AI 根据项目实际情况判断需要哪些维度，而不是套用模板
2. **更灵活的选项提供**：有全面的选项池可供选择，能准确描述各种项目需求
3. **更自然的对话流程**：不会因为规则限制导致该问的不问、不该问的却问
4. **更好的用户体验**：用户感觉是在和智能助手对话，而不是填写死板的问卷

---

## 测试验证

用相同的案例测试 V1 和 V2：

**测试输入：** "我想做一个记账手机 APP"

### V1 可能的问题：

- 会按照"中等项目"的规则生成 5-6 个维度
- 会机械地包含"特殊需求"维度，提供预设的选项
- 可能会包含不相关的问题（如浏览器兼容性）

### V2 的预期表现：

- AI 分析：这是移动应用，涉及财务数据
- 智能选择维度：技术栈（移动）、核心功能、UI/UX、数据管理、安全
- 智能筛选选项：不会提供浏览器兼容性，会提供推送通知、数据加密等相关选项
- 如果初次遗漏，用户反馈后下一轮会补充

**关键区别：** V2 让 AI 有判断空间，可以根据反馈调整，而不是被规则限死。

---

## 总结

**V1 的教训：** 不要试图在提示词中用规则限制 AI 的判断，那会适得其反。

**V2 的精髓：**

- 明确目标（为生成 7 条指令收集信息）
- 提供参考（全面的维度和选项）
- 相信判断（让 AI 根据项目情况决定）
- 拥抱迭代（通过对话不断完善）

**一句话总结：**

> 把 AI 当作智能助手，而不是填表机器。提供工具和目标，而不是规则和限制。
