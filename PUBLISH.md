# ğŸ“¦ å‘å¸ƒåˆ° npm

## ğŸš€ å¿«é€Ÿå‘å¸ƒï¼ˆæ¨èï¼‰

ä½¿ç”¨è‡ªåŠ¨åŒ–å‘å¸ƒè„šæœ¬ï¼Œä¸€é”®å®Œæˆç‰ˆæœ¬æ£€æŸ¥ã€æ„å»ºã€æäº¤ã€æ¨é€å’Œå‘å¸ƒã€‚

### åŸºç¡€ç”¨æ³•

```bash
# äº¤äº’å¼å‘å¸ƒï¼ˆé»˜è®¤ï¼‰
npm run push

# è‡ªåŠ¨åŒ–å‘å¸ƒï¼ˆè·³è¿‡ç¡®è®¤ï¼‰
npm run push -- --yes --patch

# æŸ¥çœ‹å¸®åŠ©
npm run push -- --help
```

### å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

| ä½¿ç”¨åœºæ™¯                       | å‘½ä»¤                             |
| ------------------------------ | -------------------------------- |
| ä¿®å¤ bugï¼Œå‘å¸ƒè¡¥ä¸ç‰ˆæœ¬         | `npm run push -- --yes --patch`  |
| æ–°å¢åŠŸèƒ½ï¼Œå‘å¸ƒæ¬¡ç‰ˆæœ¬           | `npm run push -- --yes --minor`  |
| é‡å¤§æ›´æ–°ï¼Œå‘å¸ƒä¸»ç‰ˆæœ¬           | `npm run push -- --yes --major`  |
| æŒ‡å®šç‰ˆæœ¬å·                     | `npm run push -- -y -v 1.5.0`    |
| è·³è¿‡æœ€ç»ˆç¡®è®¤ï¼ˆä»äº¤äº’é€‰æ‹©ç‰ˆæœ¬ï¼‰ | `npm run push -- --skip-confirm` |
| CI/CD è‡ªåŠ¨å‘å¸ƒ                 | `npm run push -- --yes --patch`  |

è¯¥è„šæœ¬ä¼šè‡ªåŠ¨ï¼š

1. âœ… æ£€æŸ¥ Git ä»“åº“çŠ¶æ€å’Œå½“å‰åˆ†æ”¯
2. âœ… å¯¹æ¯”æœ¬åœ°ç‰ˆæœ¬å’Œ npm å·²å‘å¸ƒç‰ˆæœ¬
3. âœ… æä¾›äº¤äº’å¼ç‰ˆæœ¬æ›´æ–°é€‰é¡¹ï¼ˆpatch/minor/major/customï¼‰
4. âœ… è‡ªåŠ¨æ›´æ–° `package.json` çš„ç‰ˆæœ¬å·
5. âœ… æ„å»ºé¡¹ç›®ï¼ˆ`npm run build`ï¼‰
6. âœ… æäº¤æ›´æ”¹åˆ° Git
7. âœ… åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾ï¼ˆå¦‚ `v1.0.2`ï¼‰
8. âœ… æ¨é€åˆ° GitHub
9. âœ… å‘å¸ƒåˆ° npm

### ç‰ˆæœ¬æ›´æ–°ç±»å‹

è„šæœ¬ä¼šæç¤ºä½ é€‰æ‹©ç‰ˆæœ¬æ›´æ–°ç±»å‹ï¼š

- **patch**ï¼ˆè¡¥ä¸ï¼‰ï¼šä¿®å¤ bugï¼Œå¦‚ `1.0.0` â†’ `1.0.1`
- **minor**ï¼ˆæ¬¡ç‰ˆæœ¬ï¼‰ï¼šæ–°å¢åŠŸèƒ½ï¼Œå¦‚ `1.0.0` â†’ `1.1.0`
- **major**ï¼ˆä¸»ç‰ˆæœ¬ï¼‰ï¼šé‡å¤§å˜æ›´ï¼Œå¦‚ `1.0.0` â†’ `2.0.0`
- **custom**ï¼ˆè‡ªå®šä¹‰ï¼‰ï¼šæ‰‹åŠ¨è¾“å…¥ç‰ˆæœ¬å·
- **skip**ï¼ˆè·³è¿‡ï¼‰ï¼šä½¿ç”¨å½“å‰ç‰ˆæœ¬å·ï¼ˆä»…å½“æœ¬åœ°ç‰ˆæœ¬å·²é«˜äº npm ç‰ˆæœ¬æ—¶ï¼‰

### å‘½ä»¤è¡Œå‚æ•°

è„šæœ¬æ”¯æŒä»¥ä¸‹å‘½ä»¤è¡Œå‚æ•°æ¥è·³è¿‡ç¡®è®¤æ­¥éª¤ï¼š

| å‚æ•°                 | ç®€å†™          | è¯´æ˜                            |
| -------------------- | ------------- | ------------------------------- |
| `--yes`              | `-y`          | è·³è¿‡æ‰€æœ‰ç¡®è®¤æç¤º                |
| `--skip-confirm`     | -             | è·³è¿‡æœ€ç»ˆå‘å¸ƒç¡®è®¤                |
| `--skip-git-check`   | -             | è·³è¿‡ Git çŠ¶æ€æ£€æŸ¥ç¡®è®¤           |
| `--patch`            | -             | è‡ªåŠ¨é€‰æ‹© patch ç‰ˆæœ¬æ›´æ–° (x.y.Z) |
| `--minor`            | -             | è‡ªåŠ¨é€‰æ‹© minor ç‰ˆæœ¬æ›´æ–° (x.Y.0) |
| `--major`            | -             | è‡ªåŠ¨é€‰æ‹© major ç‰ˆæœ¬æ›´æ–° (X.0.0) |
| `--version <ç‰ˆæœ¬å·>` | `-v <ç‰ˆæœ¬å·>` | æŒ‡å®šè‡ªå®šä¹‰ç‰ˆæœ¬å· (æ ¼å¼: x.y.z)  |
| `--help`             | `-h`          | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯                    |

**å‚æ•°ä½¿ç”¨ç¤ºä¾‹ï¼š**

```bash
# è·³è¿‡æ‰€æœ‰ç¡®è®¤ï¼Œè‡ªåŠ¨ä½¿ç”¨ patch ç‰ˆæœ¬
npm run push -- --yes --patch

# æŒ‡å®šç‰ˆæœ¬å·å¹¶è·³è¿‡ç¡®è®¤
npm run push -- -y --version 1.5.0

# åªè·³è¿‡æœ€ç»ˆç¡®è®¤ï¼Œä½¿ç”¨ minor ç‰ˆæœ¬
npm run push -- --skip-confirm --minor

# æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯
npm run push -- --help
```

### ä½¿ç”¨ç¤ºä¾‹

#### äº¤äº’å¼å‘å¸ƒï¼ˆé»˜è®¤ï¼‰

```bash
$ npm run push

ğŸš€ å¼€å§‹å‘å¸ƒæµç¨‹...

ğŸ“ å½“å‰åˆ†æ”¯: main
ğŸ“¦ åŒ…å: spec-kit-ui-mcp
ğŸ“Œ å½“å‰ç‰ˆæœ¬: 1.0.1

ğŸ” æ£€æŸ¥npmä¸Šçš„ç‰ˆæœ¬...
ğŸ“Œ npmç‰ˆæœ¬: 1.0.0

âœ… æœ¬åœ°ç‰ˆæœ¬é«˜äºnpmç‰ˆæœ¬

è¯·é€‰æ‹©ç‰ˆæœ¬æ›´æ–°ç±»å‹:
  1. patch (è¡¥ä¸) - 1.0.1 -> 1.0.2
  2. minor (æ¬¡ç‰ˆæœ¬) - 1.0.1 -> 1.1.0
  3. major (ä¸»ç‰ˆæœ¬) - 1.0.1 -> 2.0.0
  4. custom (è‡ªå®šä¹‰ç‰ˆæœ¬)
  5. skip (è·³è¿‡ï¼Œä½¿ç”¨å½“å‰ç‰ˆæœ¬)

è¯·è¾“å…¥é€‰é¡¹ (1-5): 1

ğŸ“ æ›´æ–°ç‰ˆæœ¬å·: 1.0.1 -> 1.0.2
âœ… package.json å·²æ›´æ–°

ğŸ“‹ å‘å¸ƒä¿¡æ¯:
   åŒ…å: spec-kit-ui-mcp
   ç‰ˆæœ¬: 1.0.2
   åˆ†æ”¯: main

ç¡®è®¤å‘å¸ƒ? (y/n): y

ğŸ”¨ æ„å»ºé¡¹ç›®...
âœ… æ„å»ºå®Œæˆ

ğŸ“ æäº¤æ›´æ”¹åˆ°Git...
âœ… Gitæäº¤å®Œæˆ

ğŸ·ï¸  åˆ›å»ºGitæ ‡ç­¾...
âœ… Gitæ ‡ç­¾åˆ›å»ºå®Œæˆ

â¬†ï¸  æ¨é€åˆ°GitHub...
âœ… æ¨é€åˆ°GitHubå®Œæˆ

ğŸ“¤ å‘å¸ƒåˆ°npm...
âœ… å‘å¸ƒåˆ°npmå®Œæˆ

ğŸ‰ å‘å¸ƒæˆåŠŸï¼

ğŸ“¦ åŒ…å: spec-kit-ui-mcp
ğŸ”– ç‰ˆæœ¬: v1.0.2
ğŸŒ npm: https://www.npmjs.com/package/spec-kit-ui-mcp
ğŸ“š GitHub: https://github.com/imohuan/spec-kit-ui-mcp
```

#### è‡ªåŠ¨åŒ–å‘å¸ƒï¼ˆä½¿ç”¨å‚æ•°ï¼‰

```bash
# åœºæ™¯ 1: CI/CD è‡ªåŠ¨å‘å¸ƒ patch ç‰ˆæœ¬
$ npm run push -- --yes --patch

ğŸš€ å¼€å§‹å‘å¸ƒæµç¨‹...

ğŸ“ ä½¿ç”¨çš„å‚æ•°:
   â€¢ --yes (è·³è¿‡æ‰€æœ‰ç¡®è®¤)
   â€¢ --patch (è¡¥ä¸ç‰ˆæœ¬)

ğŸ“ å½“å‰åˆ†æ”¯: main
ğŸ“¦ åŒ…å: spec-kit-ui-mcp
ğŸ“Œ å½“å‰ç‰ˆæœ¬: 1.0.2

ğŸ” æ£€æŸ¥npmä¸Šçš„ç‰ˆæœ¬...
ğŸ“Œ npmç‰ˆæœ¬: 1.0.2

ğŸ“ è‡ªåŠ¨é€‰æ‹© patch ç‰ˆæœ¬: 1.0.2 -> 1.0.3

ğŸ“ æ›´æ–°ç‰ˆæœ¬å·: 1.0.2 -> 1.0.3
âœ… package.json å·²æ›´æ–°

ğŸ“‹ å‘å¸ƒä¿¡æ¯:
   åŒ…å: spec-kit-ui-mcp
   ç‰ˆæœ¬: 1.0.3
   åˆ†æ”¯: main

âœ… è‡ªåŠ¨ç¡®è®¤å‘å¸ƒï¼ˆä½¿ç”¨ --yes æˆ– --skip-confirm å‚æ•°ï¼‰

ğŸ”¨ æ„å»ºé¡¹ç›®...
âœ… æ„å»ºå®Œæˆ

ğŸ“ æäº¤æ›´æ”¹åˆ°Git...
âœ… Gitæäº¤å®Œæˆ

ğŸ·ï¸  åˆ›å»ºGitæ ‡ç­¾...
âœ… Gitæ ‡ç­¾åˆ›å»ºå®Œæˆ

â¬†ï¸  æ¨é€åˆ°GitHub...
âœ… æ¨é€åˆ°GitHubå®Œæˆ

ğŸ“¤ å‘å¸ƒåˆ°npm...
âœ… å‘å¸ƒåˆ°npmå®Œæˆ

ğŸ‰ å‘å¸ƒæˆåŠŸï¼
```

```bash
# åœºæ™¯ 2: æŒ‡å®šç‰ˆæœ¬å·å¿«é€Ÿå‘å¸ƒ
$ npm run push -- -y -v 2.0.0

ğŸ“ ä½¿ç”¨çš„å‚æ•°:
   â€¢ --yes (è·³è¿‡æ‰€æœ‰ç¡®è®¤)
   â€¢ --version 2.0.0 (è‡ªå®šä¹‰ç‰ˆæœ¬)

ğŸ“ ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬å·: 2.0.0
âœ… è‡ªåŠ¨ç¡®è®¤å‘å¸ƒ
ğŸ‰ å‘å¸ƒæˆåŠŸï¼
```

```bash
# åœºæ™¯ 3: åªè·³è¿‡æœ€ç»ˆç¡®è®¤ï¼ˆä»ä¼šäº¤äº’é€‰æ‹©ç‰ˆæœ¬ï¼‰
$ npm run push -- --skip-confirm

ğŸš€ å¼€å§‹å‘å¸ƒæµç¨‹...

ğŸ“ ä½¿ç”¨çš„å‚æ•°:
   â€¢ --skip-confirm (è·³è¿‡å‘å¸ƒç¡®è®¤)

è¯·é€‰æ‹©ç‰ˆæœ¬æ›´æ–°ç±»å‹:
  1. patch (è¡¥ä¸) - 1.0.3 -> 1.0.4
  2. minor (æ¬¡ç‰ˆæœ¬) - 1.0.3 -> 1.1.0
  3. major (ä¸»ç‰ˆæœ¬) - 1.0.3 -> 2.0.0
  4. custom (è‡ªå®šä¹‰ç‰ˆæœ¬)
  5. skip (è·³è¿‡ï¼Œä½¿ç”¨å½“å‰ç‰ˆæœ¬)

è¯·è¾“å…¥é€‰é¡¹ (1-5): 2

ğŸ“ æ›´æ–°ç‰ˆæœ¬å·: 1.0.3 -> 1.1.0
âœ… package.json å·²æ›´æ–°

âœ… è‡ªåŠ¨ç¡®è®¤å‘å¸ƒï¼ˆä½¿ç”¨ --yes æˆ– --skip-confirm å‚æ•°ï¼‰
ğŸ‰ å‘å¸ƒæˆåŠŸï¼
```

---

## ğŸ“‹ æ‰‹åŠ¨å‘å¸ƒæ­¥éª¤

å¦‚æœä½ æƒ³æ‰‹åŠ¨æ§åˆ¶æ¯ä¸ªæ­¥éª¤ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æµç¨‹æ“ä½œã€‚

## å‰ç½®å‡†å¤‡

### 1. æ³¨å†Œ npm è´¦å·

è®¿é—® [npm å®˜ç½‘](https://www.npmjs.com/) æ³¨å†Œè´¦å·å¹¶éªŒè¯é‚®ç®±ã€‚

### 2. ç™»å½• npm

```bash
npm login
```

éªŒè¯ç™»å½•ï¼š

```bash
npm whoami
```

## æ‰‹åŠ¨å‘å¸ƒæ­¥éª¤

### 1. æ›´æ–° package.json

ä¿®æ”¹ä»¥ä¸‹å­—æ®µï¼š

```json
{
  "name": "spec-kit-ui-mcp",
  "version": "1.0.0",
  "author": "Your Name <your.email@example.com>",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/yourusername/spec-kit-ui-mcp.git"
  },
  "homepage": "https://github.com/yourusername/spec-kit-ui-mcp#readme",
  "bugs": {
    "url": "https://github.com/yourusername/spec-kit-ui-mcp/issues"
  }
}
```

### 2. æ£€æŸ¥åŒ…åå¯ç”¨æ€§

```bash
npm view spec-kit-ui-mcp
```

å¦‚æœæ˜¾ç¤º 404ï¼Œè¯´æ˜åŒ…åå¯ç”¨ã€‚

### 3. æ„å»ºé¡¹ç›®

```bash
npm run build
```

### 4. æœ¬åœ°æµ‹è¯•

```bash
# æ‰“åŒ…
npm pack

# æµ‹è¯•å®‰è£…
npm install -g ./spec-kit-ui-mcp-1.0.0.tgz

# æµ‹è¯•è¿è¡Œ
spec-kit-ui-mcp --help
```

### 5. å‘å¸ƒåˆ° npm

```bash
npm publish
```

å¦‚æœæ˜¯ä½œç”¨åŸŸåŒ…ï¼ˆå¦‚ `@yourname/spec-kit-ui-mcp`ï¼‰ï¼Œéœ€è¦ï¼š

```bash
npm publish --access public
```

### 6. éªŒè¯å‘å¸ƒ

```bash
# æŸ¥çœ‹åŒ…ä¿¡æ¯
npm view spec-kit-ui-mcp

# æµ‹è¯• npx ä½¿ç”¨
npx spec-kit-ui-mcp@latest
```

## ğŸ”„ ç‰ˆæœ¬æ›´æ–°

éµå¾ª[è¯­ä¹‰åŒ–ç‰ˆæœ¬](https://semver.org/lang/zh-CN/)ï¼š

```bash
# ä¿®å¤ bugï¼ˆ1.0.0 â†’ 1.0.1ï¼‰
npm version patch
npm run build
npm publish

# æ–°å¢åŠŸèƒ½ï¼ˆ1.0.0 â†’ 1.1.0ï¼‰
npm version minor
npm run build
npm publish

# é‡å¤§å˜æ›´ï¼ˆ1.0.0 â†’ 2.0.0ï¼‰
npm version major
npm run build
npm publish
```

## âœ… å‘å¸ƒæ£€æŸ¥æ¸…å•

- [ ] `package.json` ä¿¡æ¯å®Œæ•´ï¼ˆauthorã€repository ç­‰ï¼‰
- [ ] åŒ…åå¯ç”¨æˆ–å·²æ‹¥æœ‰æƒé™
- [ ] `npm run build` æ„å»ºæˆåŠŸ
- [ ] `npm pack` æ‰“åŒ…æµ‹è¯•é€šè¿‡
- [ ] å·²ç™»å½• npm è´¦å·
- [ ] README.md æ–‡æ¡£å®Œæ•´
- [ ] LICENSE æ–‡ä»¶å­˜åœ¨

## âŒ å¸¸è§é—®é¢˜

### åŒ…åå·²è¢«å ç”¨

æ›´æ”¹åŒ…åæˆ–ä½¿ç”¨ä½œç”¨åŸŸåŒ…ï¼š

```json
{
  "name": "@yourname/spec-kit-ui-mcp"
}
```

### æœªç™»å½• npm

```bash
npm login
```

### ç‰ˆæœ¬å·å·²å­˜åœ¨

æ›´æ–°ç‰ˆæœ¬å·ï¼š

```bash
npm version patch
```

## ğŸ” å®‰å…¨å»ºè®®

1. **å¯ç”¨åŒå› ç´ è®¤è¯**

```bash
npm profile enable-2fa auth-and-writes
```

2. **æ£€æŸ¥æ•æ„Ÿä¿¡æ¯**
   - ç¡®ä¿ `.env` åœ¨ `.gitignore` ä¸­
   - æ£€æŸ¥ä»£ç ä¸­æ²¡æœ‰ç¡¬ç¼–ç å¯†é’¥
   - ç¡®è®¤ `.npmignore` æ­£ç¡®é…ç½®

## ğŸ“ è·å–å¸®åŠ©

- [npm å®˜æ–¹æ–‡æ¡£](https://docs.npmjs.com/)
- [npm æ”¯æŒ](https://www.npmjs.com/support)

---

## ğŸ¤– å…³äºè‡ªåŠ¨åŒ–å‘å¸ƒè„šæœ¬

### è„šæœ¬åŠŸèƒ½è¯¦è§£

è‡ªåŠ¨åŒ–å‘å¸ƒè„šæœ¬ (`scripts/publish.js` å’Œ `scripts/publish.ps1`) æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š

#### 1. ç‰ˆæœ¬æ£€æŸ¥å’Œå¯¹æ¯”

- è‡ªåŠ¨è·å– npm ä¸Šçš„æœ€æ–°ç‰ˆæœ¬
- å¯¹æ¯”æœ¬åœ°å’Œè¿œç¨‹ç‰ˆæœ¬
- é˜²æ­¢å‘å¸ƒä½äºæˆ–ç­‰äºå·²å‘å¸ƒçš„ç‰ˆæœ¬

#### 2. æ™ºèƒ½ç‰ˆæœ¬æ›´æ–°

- æ”¯æŒè¯­ä¹‰åŒ–ç‰ˆæœ¬æ›´æ–°ï¼ˆpatch/minor/majorï¼‰
- æ”¯æŒè‡ªå®šä¹‰ç‰ˆæœ¬å·
- è‡ªåŠ¨æ›´æ–° `package.json`

#### 3. å®Œæ•´çš„å‘å¸ƒæµç¨‹

- è‡ªåŠ¨æ„å»ºé¡¹ç›®
- è‡ªåŠ¨æäº¤åˆ° Git
- è‡ªåŠ¨åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾
- è‡ªåŠ¨æ¨é€åˆ° GitHub
- è‡ªåŠ¨å‘å¸ƒåˆ° npm

#### 4. å®‰å…¨æ£€æŸ¥

- æ£€æŸ¥ Git å·¥ä½œåŒºçŠ¶æ€
- æ£€æŸ¥å½“å‰åˆ†æ”¯
- ç¡®è®¤åå†æ‰§è¡Œå‘å¸ƒ
- æ£€æŸ¥ npm ç™»å½•çŠ¶æ€

### è„šæœ¬ä½¿ç”¨æ³¨æ„äº‹é¡¹

#### âœ… ä½¿ç”¨å‰ç¡®è®¤

1. **å·²ç™»å½• npm**

   ```bash
   npm whoami
   ```

2. **Git é…ç½®æ­£ç¡®**

   ```bash
   git config user.name
   git config user.email
   ```

3. **æœ‰ GitHub æ¨é€æƒé™**
   ```bash
   git remote -v
   ```

#### âš ï¸ å¸¸è§é—®é¢˜

**Q: PowerShell è„šæœ¬æ— æ³•æ‰§è¡Œï¼Ÿ**

A: éœ€è¦ä¿®æ”¹ PowerShell æ‰§è¡Œç­–ç•¥ï¼š

```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

**Q: å‘å¸ƒå¤±è´¥ä½†ç‰ˆæœ¬å·²æ›´æ–°ï¼Ÿ**

A: å¯ä»¥æ‰‹åŠ¨å›æ»šç‰ˆæœ¬ï¼š

1. ä¿®æ”¹ `package.json` ä¸­çš„ç‰ˆæœ¬å·
2. æäº¤æ›´æ”¹ï¼š`git add package.json && git commit -m "chore: revert version"`

**Q: æƒ³è·³è¿‡ GitHub æ¨é€ï¼Ÿ**

A: å¯ä»¥åœ¨è„šæœ¬ä¸­æ³¨é‡Šæ‰æ¨é€éƒ¨åˆ†ï¼Œæˆ–ä½¿ç”¨æ‰‹åŠ¨å‘å¸ƒæµç¨‹ã€‚

**Q: å¦‚ä½•å–æ¶ˆå·²å‘å¸ƒçš„ç‰ˆæœ¬ï¼Ÿ**

A: npm ä¸å…è®¸åˆ é™¤å·²å‘å¸ƒçš„ç‰ˆæœ¬ï¼ˆå®‰å…¨è€ƒè™‘ï¼‰ï¼Œä½†å¯ä»¥åºŸå¼ƒï¼š

```bash
npm deprecate package-name@version "ç†ç”±"
```

#### ğŸ”§ è‡ªå®šä¹‰è„šæœ¬

å¦‚æœéœ€è¦è‡ªå®šä¹‰å‘å¸ƒæµç¨‹ï¼Œå¯ä»¥ä¿®æ”¹ `scripts/publish.js` æˆ– `scripts/publish.ps1`ï¼š

```javascript
// ä¾‹å¦‚ï¼šè·³è¿‡ Git æ ‡ç­¾åˆ›å»º
// æ³¨é‡Šæ‰è¿™ä¸€è¡Œï¼š
// exec(`git tag v${newVersion}`);

// ä¾‹å¦‚ï¼šæ·»åŠ å‘å¸ƒå‰æµ‹è¯•
// åœ¨æ„å»ºå‰æ·»åŠ ï¼š
// log('\nğŸ§ª è¿è¡Œæµ‹è¯•...', 'blue');
// exec('npm test');
```

### CI/CD é›†æˆ

è„šæœ¬æ”¯æŒå‘½ä»¤è¡Œå‚æ•°ï¼Œå¯ä»¥è½»æ¾é›†æˆåˆ° CI/CD æµç¨‹ä¸­ï¼š

#### GitHub Actions ç¤ºä¾‹

```yaml
name: Publish to npm

on:
  push:
    branches:
      - main
    paths:
      - "package.json"

jobs:
  publish:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: "18"
          registry-url: "https://registry.npmjs.org"

      - name: Install dependencies
        run: npm install

      - name: Publish to npm
        run: npm run push -- --yes --patch
        env:
          NODE_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}
```

#### GitLab CI ç¤ºä¾‹

```yaml
publish:
  stage: deploy
  only:
    - main
  script:
    - npm install
    - npm run push -- --yes --patch
  variables:
    NPM_TOKEN: $CI_NPM_TOKEN
```

#### Jenkins ç¤ºä¾‹

```groovy
pipeline {
    agent any
    stages {
        stage('Publish') {
            steps {
                sh 'npm install'
                sh 'npm run push -- --yes --patch'
            }
        }
    }
}
```

### è„šæœ¬ä¼˜åŠ¿

ç›¸æ¯”æ‰‹åŠ¨å‘å¸ƒæˆ–ä½¿ç”¨ `npm version` å‘½ä»¤ï¼š

| ç‰¹æ€§       | æ‰‹åŠ¨å‘å¸ƒ | npm version | è‡ªåŠ¨åŒ–è„šæœ¬ |
| ---------- | -------- | ----------- | ---------- |
| ç‰ˆæœ¬æ£€æŸ¥   | âŒ       | âŒ          | âœ…         |
| ç‰ˆæœ¬å¯¹æ¯”   | âŒ       | âŒ          | âœ…         |
| äº¤äº’å¼é€‰æ‹© | âŒ       | âŒ          | âœ…         |
| è‡ªåŠ¨æ„å»º   | æ‰‹åŠ¨     | âŒ          | âœ…         |
| è‡ªåŠ¨æ¨é€   | æ‰‹åŠ¨     | âœ…          | âœ…         |
| è‡ªåŠ¨å‘å¸ƒ   | æ‰‹åŠ¨     | âŒ          | âœ…         |
| çŠ¶æ€æ£€æŸ¥   | æ‰‹åŠ¨     | âŒ          | âœ…         |
| å½©è‰²è¾“å‡º   | âŒ       | âŒ          | âœ…         |
| é”™è¯¯å¤„ç†   | âŒ       | âš ï¸          | âœ…         |

---

**ç¥å‘å¸ƒé¡ºåˆ©ï¼** ğŸš€
